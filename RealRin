local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local TS = game:GetService("TweenService")
local RunService = game:GetService("RunService")

-- LOADING SCREEN --
local loadingGui = Instance.new("ScreenGui")
loadingGui.Name = "LoadingScreen"
loadingGui.ResetOnSpawn = false
loadingGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
loadingGui.Parent = Players.LocalPlayer:WaitForChild("PlayerGui")

local loadingFrame = Instance.new("Frame")
loadingFrame.Size = UDim2.new(1, 0, 1, 0)
loadingFrame.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
loadingFrame.BorderSizePixel = 0
loadingFrame.Parent = loadingGui

-- Animated Loading Text
local loadingText = Instance.new("TextLabel")
loadingText.Size = UDim2.new(1, 0, 0, 40)
loadingText.Position = UDim2.new(0, 0, 0.7, 0)
loadingText.Text = ""
loadingText.Font = Enum.Font.GothamBold
loadingText.TextColor3 = Color3.fromRGB(0, 255, 150)
loadingText.TextSize = 24
loadingText.TextTransparency = 1
loadingText.BackgroundTransparency = 1
loadingText.Parent = loadingFrame

-- Holographic Spinner
local spinner = Instance.new("ImageLabel")
spinner.Size = UDim2.new(0, 120, 0, 120)
spinner.Position = UDim2.new(0.5, -60, 0.5, -60)
spinner.Image = "rbxassetid://6751070948" -- Replace with your spinner ID
spinner.BackgroundTransparency = 1
spinner.ImageColor3 = Color3.fromRGB(0, 255, 150)
spinner.ImageTransparency = 0
spinner.Parent = loadingFrame

-- Loading Sequence
coroutine.wrap(function()
    -- Text Typing Animation
    local fullText = "Loading Rin Hub Script..."
    for i = 1, #fullText do
        loadingText.Text = string.sub(fullText, 1, i)
        RunService.Heartbeat:Wait()
    end
    
    -- Text & Spinner Fade In
    TS:Create(loadingText, TweenInfo.new(0.5), {TextTransparency = 0}):Play()
    TS:Create(spinner, TweenInfo.new(0.5), {ImageTransparency = 0}):Play()
    
    -- Spinner Rotation
    local spinConnection
    spinConnection = RunService.RenderStepped:Connect(function(dt)
        spinner.Rotation = spinner.Rotation + (dt * 180)
    end)
    
    -- Simulate Loading
    wait(2)
    
    -- Fade Out Loading Screen
    TS:Create(loadingFrame, TweenInfo.new(0.5), {BackgroundTransparency = 1}):Play()
    TS:Create(spinner, TweenInfo.new(0.5), {ImageTransparency = 1}):Play()
    TS:Create(loadingText, TweenInfo.new(0.5), {TextTransparency = 1}):Play()
    
    wait(0.5)
    loadingGui:Destroy()
    spinConnection:Disconnect()
end)()

-- MAIN GUI --
local gui = Instance.new("ScreenGui")
gui.ResetOnSpawn = false
gui.Name = "RinHubUI"
gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
gui.Enabled = false
gui.Parent = Players.LocalPlayer:WaitForChild("PlayerGui")

-- Main Container
local main = Instance.new("Frame")
main.Size = UDim2.new(0, 220, 0, 250)
main.Position = UDim2.new(0.5, -110, 0.5, -125)
main.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
main.BackgroundTransparency = 1
main.BorderSizePixel = 0
main.ClipsDescendants = true
main.Parent = gui

-- Glass Effect
local blur = Instance.new("BlurEffect")
blur.Size = 10
blur.Parent = main

-- GUI Entrance Animation
coroutine.wrap(function()
    wait(2.5) -- Wait for loading screen to finish
    gui.Enabled = true
    
    -- Main Frame Animation
    TS:Create(main, TweenInfo.new(0.8, Enum.EasingStyle.Back), {
        BackgroundTransparency = 0.3,
        Position = UDim2.new(0.5, -110, 0.5, -125)
    }):Play()
    
    -- Create GUI Elements
    local stroke = Instance.new("UIStroke")
    stroke.Color = Color3.fromRGB(0, 255, 154)
    stroke.Thickness = 2
    stroke.Transparency = 0.1
    stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    stroke.Parent = main

    local glow = Instance.new("ImageLabel")
    glow.Size = UDim2.new(1, 40, 1, 40)
    glow.Position = UDim2.new(0, -20, 0, -20)
    glow.Image = "rbxassetid://5028857084" -- Glow effect image
    glow.ImageColor3 = Color3.fromRGB(0, 255, 154)
    glow.ScaleType = Enum.ScaleType.Slice
    glow.SliceCenter = Rect.new(20, 20, 280, 280)
    glow.BackgroundTransparency = 1
    glow.Parent = main

    -- Header
    local header = Instance.new("Frame")
    header.Size = UDim2.new(1, 0, 0, 40)
    header.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    header.BackgroundTransparency = 0.7
    header.Parent = main

    local title = Instance.new("TextLabel")
    title.Size = UDim2.new(1, -40, 1, 0)
    title.Position = UDim2.new(0, 10, 0, 0)
    title.Text = "RIN HUB v2.0"
    title.Font = Enum.Font.GothamBold
    title.TextColor3 = Color3.fromRGB(0, 255, 154)
    title.TextSize = 16
    title.BackgroundTransparency = 1
    title.TextXAlignment = Enum.TextXAlignment.Left
    title.Parent = header

    -- Close Button
    local closeBtn = Instance.new("TextButton")
    closeBtn.Size = UDim2.new(0, 30, 0, 30)
    closeBtn.Position = UDim2.new(1, -35, 0.5, -15)
    closeBtn.Text = "Ã—"
    closeBtn.Font = Enum.Font.GothamBold
    closeBtn.TextColor3 = Color3.fromRGB(255, 50, 50)
    closeBtn.TextSize = 24
    closeBtn.BackgroundTransparency = 1
    closeBtn.Parent = header

    -- Toggles
    local function createModernToggle(text, yPos)
        -- (Same toggle code as previous version)
        -- ... [Include toggle creation code here]
    end

    -- Buttons
    local fruitBtn = Instance.new("TextButton")
    -- (Same button code as previous version)
    -- ... [Include button creation code here]

    -- Drag Functionality
    -- (Same drag code as previous version)
    -- ... [Include drag code here]

    -- Close Button Functionality
    closeBtn.MouseButton1Click:Connect(function()
        TS:Create(main, TweenInfo.new(0.3), {Size = UDim2.new(0, 0, 0, 0)}):Play()
        wait(0.3)
        gui:Destroy()
    end)
end)()
